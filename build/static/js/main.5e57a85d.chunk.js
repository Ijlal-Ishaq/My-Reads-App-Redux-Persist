(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},22:function(e,t,a){e.exports=a(41)},35:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),c=(a(14),a(6)),i=a(1),u=a(5);var d=Object(u.b)(function(e,t){var a=t.id,n=t.shelfName;return"Currently Reading"===n?{book:e.currentlyReading.find(function(e){return e.id===a})}:"Want To Read"===n?{book:e.wantToRead.find(function(e){return e.id===a})}:"Read"===n?{book:e.read.find(function(e){return e.id===a})}:{}},function(e){return{moveToCurrentlyReading:function(t,a,n){e(function(e,t,a){return{type:"MOVE_TO",id:e,to:"CurrentlyReading",from:t,book:a}}(t,a,n))},moveToWantToRead:function(t,a,n){e(function(e,t,a){return{type:"MOVE_TO",id:e,to:"WantToRead",from:t,book:a}}(t,a,n))},moveToRead:function(t,a,n){e(function(e,t,a){return{type:"MOVE_TO",id:e,to:"Read",from:t,book:a}}(t,a,n))},remove:function(t,a){e(function(e,t,a){return{type:"REMOVE",id:e,from:t,book:a}}(t,a))}}})(function(e){var t=e.id,a=e.shelfName,n=e.book,o=e.moveToCurrentlyReading,l=e.moveToWantToRead,c=e.moveToRead,i=e.remove;return r.a.createElement("li",null,r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url("+function(e){return e.imageLinks?e.imageLinks.thumbnail:""}(n)+")"}}),r.a.createElement("div",{className:"book-shelf-changer"},r.a.createElement("select",{onChange:function(e){return function(e){"currentlyReading"===e.target.value?o(t,a.replaceAll(" ",""),n):"wantToRead"===e.target.value?l(t,a.replaceAll(" ",""),n):"read"===e.target.value?c(t,a.replaceAll(" ",""),n):i(n.id,a.replaceAll(" ",""),n)}(e)},value:"Currently Reading"===a?"currentlyReading":"Want To Read"===a?"wantToRead":"Read"===a?"read":"move"},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read"),r.a.createElement("option",{value:"none"},"None")))),r.a.createElement("div",{className:"book-title"},n.title),r.a.createElement("div",{className:"book-authors"},n.authors)))});var s=Object(u.b)(function(e,t){var a=t.shelfName;return{books:"Currently Reading"===a?e.currentlyReading:"Want To Read"===a?e.wantToRead:e.read}})(function(e){var t=e.shelfName,a=e.books;return r.a.createElement("div",{className:"bookshelf"},r.a.createElement("h2",{className:"bookshelf-title"},t),0!==a.length?r.a.createElement("div",{className:"bookshelf-books"},r.a.createElement("ol",{className:"books-grid"},a.map(function(e,a){return r.a.createElement(d,{id:e.id,shelfName:t,key:a})}))):r.a.createElement("h3",{style:{textAlign:"center"}},"No Books"))}),m=function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"list-books"},r.a.createElement("div",{className:"list-books-title"},r.a.createElement("h1",null,"MyReads")),r.a.createElement("div",{className:"list-books-content"},r.a.createElement("div",null,r.a.createElement(s,{shelfName:"Currently Reading"}),r.a.createElement(s,{shelfName:"Want To Read"}),r.a.createElement(s,{shelfName:"Read"}))),r.a.createElement("div",{className:"open-search"},r.a.createElement(c.b,{to:"/search"},r.a.createElement("button",{style:{textDecoration:"none",border:"none"}},"Add a book")))))},f=a(10),b=a(4),h="https://reactnd-books-api.udacity.com",v=localStorage.token;v||(v=localStorage.token=Math.random().toString(36).substr(-8));var R={Accept:"application/json",Authorization:v},E=function(e){e.move_to;var t=Object(n.useState)(""),a=Object(f.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)([]),u=Object(f.a)(i,2),s=u[0],m=u[1],v=Object(n.useState)(!1),E=Object(f.a)(v,2),g=E[0],k=E[1],p=Object(n.useState)(!1),y=Object(f.a)(p,2),N=y[0],T=y[1],O=function(e){if(""===e.target.value)return m([]),T(!1),k(!1),void l(e.target.value);k(!0),T(!1),l(e.target.value),function(e){return fetch("".concat(h,"/search"),{method:"POST",headers:Object(b.a)({},R,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})}(e.target.value).then(function(e){void 0===e||e.error?(m([]),T(""!==o),k(!1)):(m(null!==e?e:[]),T(!1),k(!1))})};return r.a.createElement("div",{className:"search-books"},r.a.createElement("div",{className:"search-books-bar"},r.a.createElement(c.b,{to:"/"},r.a.createElement("button",{className:"close-search",style:{textDecoration:"none",border:"none"}},"Close")),r.a.createElement("div",{className:"search-books-input-wrapper"},r.a.createElement("input",{type:"text",placeholder:"Search by title or author",onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"search-books-results"},r.a.createElement("ol",{className:"books-grid"},0!==s.length&&""!==o?s.map(function(e,t){return r.a.createElement(d,{book:e,shelfName:"Search",key:t})}):g?r.a.createElement("h3",null,"Searching..."):""===o?r.a.createElement("h3",null,"Search Books"):N?r.a.createElement("h3",null,"No Result"):r.a.createElement("h3",null,"Search Books"))))},g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:m}),r.a.createElement(i.a,{path:"/search",component:E})))},k=(a(35),a(7)),p=(a(37),a(38),a(17)),y=a(21),N={currentlyReading:[],wantToRead:[],read:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;if("MOVE_TO"===t.type){var a=null,n=e.currentlyReading.filter(function(e){return e.id!==t.book.id}),r=e.wantToRead.filter(function(e){return e.id!==t.book.id}),o=e.read.filter(function(e){return e.id!==t.book.id});return"CurrentlyReading"===t.from?a=e.currentlyReading.find(function(e){return e.id===t.id}):"WantToRead"===t.from?a=e.wantToRead.find(function(e){return e.id===t.id}):"Read"===t.from?a=e.read.find(function(e){return e.id===t.id}):"Search"===t.from&&(a=t.book),"CurrentlyReading"===t.to?n.push(a):"WantToRead"===t.to?r.push(a):"Read"===t.to&&o.push(a),Object(b.a)({},e,{currentlyReading:n,wantToRead:r,read:o})}if("REMOVE"===t.type){if("CurrentlyReading"===t.from){var l=e.currentlyReading.filter(function(e){return e.id!==t.id});return Object(b.a)({},e,{currentlyReading:l})}if("WantToRead"===t.from){var c=e.wantToRead.filter(function(e){return e.id!==t.id});return Object(b.a)({},e,{wantToRead:c})}if("Read"===t.from){var i=e.read.filter(function(e){return e.id!==t.id});return Object(b.a)({},e,{read:i})}if("Search"===t.from){var u=e.currentlyReading.filter(function(e){return e.id!==t.id}),d=e.wantToRead.filter(function(e){return e.id!==t.id}),s=e.read.filter(function(e){return e.id!==t.id});return Object(b.a)({},e,{currentlyReading:u,wantToRead:d,read:s})}}return e},O={key:"rootreducer",storage:a.n(y).a},j=Object(p.a)(O,T),w=Object(k.b)(j);Object(p.b)(w);l.a.render(r.a.createElement(u.a,{store:w},r.a.createElement(g,null)),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.5e57a85d.chunk.js.map